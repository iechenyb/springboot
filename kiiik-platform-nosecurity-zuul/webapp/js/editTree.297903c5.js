(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editTree"],{"86a9":function(e,t,n){},b6fd:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editTree"},[n("h1",[e._v("菜单编辑")]),n("div",{staticClass:"edit-wapper"},[n("i",{staticClass:"el-icon-plus",on:{click:function(t){e.openDialog(e.STATE.add)}}}),n("el-tree",{attrs:{data:e.tree,props:e.defaultProps,"expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",{staticClass:"node"},[e._v(e._s(i.menuName))]),n("span",[n("i",{staticClass:"el-icon-plus",on:{click:function(t){e.openDialog(e.STATE.add,i)}}}),n("i",{staticClass:"el-icon-edit-outline",on:{click:function(t){e.openDialog(e.STATE.update,i)}}}),n("i",{staticClass:"el-icon-delete",on:{click:function(){return e.remove(i.id)}}})])])}}])})],1),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[n("el-form",{attrs:{model:e.editinfo,"label-position":"right","label-width":"150px"}},[n("el-form-item",{attrs:{label:"菜单名称"}},[n("el-input",{model:{value:e.editinfo.menuName,callback:function(t){e.$set(e.editinfo,"menuName",t)},expression:"editinfo.menuName"}})],1),n("el-form-item",{attrs:{label:"菜单描述"}},[n("el-input",{model:{value:e.editinfo.menuDesc,callback:function(t){e.$set(e.editinfo,"menuDesc",t)},expression:"editinfo.menuDesc"}})],1),n("el-form-item",{attrs:{label:"排序权重"}},[n("el-input",{model:{value:e.editinfo.ordor,callback:function(t){e.$set(e.editinfo,"ordor",t)},expression:"editinfo.ordor"}})],1),n("el-form-item",{attrs:{label:"路径"}},[n("el-input",{model:{value:e.editinfo.url,callback:function(t){e.$set(e.editinfo,"url",t)},expression:"editinfo.url"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showDialog=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("\n        确 定\n      ")])],1)],1)],1)},r=[],s=(n("96cf"),n("1da1")),a=(n("cadf"),n("551c"),n("097d"),n("8680")),o={menuDesc:null,menuName:null,ordor:null,id:null,url:null},u={data:function(){return{STATE:{add:0,update:1},defaultProps:{children:"children"},showDialog:!1,state:null,editinfo:JSON.parse(JSON.stringify(o))}},computed:{dialogTitle:function(){var e=null;return this.state===this.STATE.add?e="添加菜单到：".concat(this.editinfo.menuName):this.state===this.STATE.update&&(e="更新菜单"),e}},asyncComputed:{tree:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["b"].getSystemMenuTree();case 2:return t=e.sent,e.abrupt("return",t.children);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{showDialog:function(e){e||(this.editinfo=JSON.parse(JSON.stringify(o)))}},methods:{refresh:function(){window.top.location.reload()},openDialog:function(e,t){e===this.STATE.add?this.editinfo=t?JSON.parse(JSON.stringify(t)):{parentId:-1,menuName:"根目录"}:e===this.STATE.update&&(this.editinfo=JSON.parse(JSON.stringify(t))),this.state=e,this.showDialog=!0},confirm:function(){this.state===this.STATE.add?this.add(this.editinfo):this.state===this.STATE.update&&this.update(this.editinfo)},remove:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("此操作将永久删除该, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["b"].deleteByIds(t);case 2:if(!e.sent){e.next=4;break}n.$message({type:"success",message:"删除成功!",duration:500,onClose:n.refresh});case 4:case"end":return e.stop()}},e,this)})));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),add:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["b"].add(t);case 2:if(!e.sent){e.next=4;break}this.$message({type:"success",message:"添加成功!",duration:500,onClose:this.refresh});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["b"].update(t);case 2:if(!e.sent){e.next=4;break}this.$message({type:"success",message:"更新成功!",duration:500,onClose:this.refresh});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},c=u,l=(n("e6fe"),n("2877")),d=Object(l["a"])(c,i,r,!1,null,null,null);d.options.__file="index.vue";t["default"]=d.exports},e6fe:function(e,t,n){"use strict";var i=n("86a9"),r=n.n(i);r.a}}]);
//# sourceMappingURL=editTree.297903c5.js.map